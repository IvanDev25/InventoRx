<mat-toolbar class="tool" fxLayout="row" fxLayoutAlign="space-between center" *ngIf="!hideNavbar">
    <!-- <div>
        <button mat-button color="primary" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</button> 
    </div>
    
    <div style="width: 203px; height: 40px; background-color: #FBFBFB; border-radius: 6px; border: none;" fxLayout="row" fxLayoutAlign="space-around center">
      <div *ngIf="(accountService.user$ | async) as user">
        <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg" >
          <mask id="mask0_2582_1767" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="25">
          <path d="M17 12.5H18.5C19.3284 12.5 20 13.1716 20 14C20 14.8284 19.3284 15.5 18.5 15.5H5.5C4.67157 15.5 4 14.8284 4 14C4 13.1716 4.67157 12.5 5.5 12.5H7L7.55827 7.47553C7.80975 5.21226 9.72279 3.5 12 3.5C14.2772 3.5 16.1903 5.21226 16.4417 7.47553L17 12.5Z" fill="black"/>
          <rect opacity="0.3" x="10" y="16.5" width="4" height="4" rx="2" fill="black"/>
          </mask>
          <g mask="url(#mask0_2582_1767)">
          <rect y="0.5" width="24" height="24" fill="#4A7DFF"/>
          </g>
          </svg>
      </div>
        
            <div  style="font-size: 12px; font-weight: 700;" *ngIf="(accountService.user$ | async) as user" >
              <a class="tex-white" style="text-decoration: none; cursor: pointer;"> Hi 
              <span class="h3 text-warning">{{user.firstName | titlecase}}</span></a>
            </div>
            <div  style="font-size: 12px; font-weight: 700;" *ngIf="(accountService.user$ | async) === null">
              Hi Stranger!
            </div>
           
            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg" [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu" style="cursor: pointer;">
                <path d="M17.2929 8.79289C17.6834 8.40237 18.3166 8.40237 18.7071 8.79289C19.0976 9.18342 19.0976 9.81658 18.7071 10.2071L12.7071 16.2071C12.3285 16.5857 11.7189 16.5989 11.3243 16.2372L5.32428 10.7372C4.91716 10.364 4.88965 9.73139 5.26285 9.32427C5.63604 8.91716 6.26861 8.88965 6.67572 9.26284L11.9699 14.1159L17.2929 8.79289Z" fill="#80808F"/>
                </svg>  
                  <mat-menu #menu="matMenu">
                    <button mat-menu-item routerLink="/account/login" *ngIf="(accountService.user$ | async) === null">
                        <mat-icon>lock_open</mat-icon>
                      <span routerLinkActive="active">Login</span>
                    </button>
                    <button mat-menu-item routerLink="/account/register" routerLinkActive="active" *ngIf="(accountService.user$ | async) === null">
                        <mat-icon>note_add</mat-icon>
                        <span routerLinkActive="active">Register</span>
                    </button>
                    <button mat-menu-item routerLink="/account/login"(click)="logout()" *ngIf="(accountService.user$ | async) as user">
                      <mat-icon>lock_open</mat-icon>
                    <span routerLinkActive="active">LogOut</span>
                  </button>
                  </mat-menu>                     
    </div>
  </mat-toolbar> -->


  <div class="header" *ngIf="!hideNavbar">


    <div>
      <div class="page-title">{{currentPageTitle}}</div>
    </div>

    <div class="user-section" *ngIf="(accountService.user$ | async) as user">
      <!-- Notification Bell -->
      <div class="notification-bell" (click)="toggleDropdown('notification')">
        <div class="bell-icon">
          <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 9C3 4.2 7 3 9 3C13.8 3 15 7 15 9V13L17 15H1L3 13V9Z" fill="#783AEE"/>
            <path d="M9 3C7 3 3 4.2 3 9V13L1 15H17L15 13V9C15 7 13.8 3 9 3ZM9 3V1ZM6 16C6 17 6.6 19 9 19C11.4 19 12 17 12 16" fill="#783AEE"/>
            <path d="M9 3C7 3 3 4.2 3 9V13L1 15H17L15 13V9C15 7 13.8 3 9 3ZM9 3V1M6 16C6 17 6.6 19 9 19C11.4 19 12 17 12 16" stroke="#783AEE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <div class="notification-badge" *ngIf="notificationCount > 0">{{notificationCount}}</div>
        </div>
        
        <div class="notification-dropdown" [class.active]="activeDropdown === 'notification'">
          <div class="notification-header">
            <h3>Medicine Alerts</h3>
            <span class="notification-count">{{notificationCount}} notifications</span>
          </div>
          <div class="notification-list">
            <div class="notification-item" *ngFor="let notification of notifications" [class]="notification.type" (click)="navigateToMedicine()">
              <div class="notification-icon">
                <span *ngIf="notification.type === 'low-stock'">‚ö†Ô∏è</span>
                <span *ngIf="notification.type === 'expiry'">‚è∞</span>
              </div>
              <div class="notification-content">
                <div class="notification-title">{{notification.title}}</div>
                <div class="notification-message">{{notification.message}}</div>
                <div class="notification-time">{{notification.time}}</div>
              </div>
            </div>
            <div class="no-notifications" *ngIf="notifications.length === 0">
              <div class="no-notifications-icon">üîî</div>
              <div class="no-notifications-text">No notifications</div>
            </div>
          </div>
        </div>
      </div>

      <div class="user-profile" (click)="toggleDropdown('user')">
      <div class="avatar">J</div>
      <div class="user-info">
        <div class="user-name">{{user.firstName | titlecase}}</div>
        <div class="user-name" *ngIf="(accountService.user$ | async) === null">Stranger</div>
        <div class="user-role">Pharmacist</div>
      </div>
      <div class="dropdown-arrow"></div>
  
      <div class="dropdown" [class.active]="activeDropdown === 'user'">
        <div class="dropdown-item">
          <span class="dropdown-icon">üë§</span>
          <span class="dropdown-text">Profile</span>
        </div>
        <div class="dropdown-item">
          <span class="dropdown-icon">‚ùì</span>
          <span class="dropdown-text">Help</span>
        </div>
        <div class="dropdown-item" routerLink="/account/login"(click)="logout()" *ngIf="(accountService.user$ | async) as user">
          <span class="dropdown-icon">üö™</span>
          <span class="dropdown-text">Logout</span>
        </div>
      </div>
    </div>
    </div>
  </div>
  